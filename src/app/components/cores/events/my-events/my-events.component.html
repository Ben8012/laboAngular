<div class="boder text-center m-2">
    <a class="btn btn-light" routerLink="/insert-event">
        <i class="bi bi-plus-square"></i>
        &nbsp;Créer
    </a>
</div>
<div *ngFor="let event of Events">
    <div class="card m-1">
        <div class="card-body">
            <table class="table">
                <tbody>
                    <tr>
                        <td class="row">
                            <div class="col-10 text-center">
                                <h5>{{event.name}}</h5>
                                <h6>Début le {{event.startDate }} </h6>
                                <h6>Fin le {{event.endDate }} </h6>
                            </div>
                            <div class="col-2 text-center d-flex flex-column">
                                <button *ngIf="!event.isParticipe && User.id != event.creator.id" class="btn btn-success hover mb-4" (click)="participe(event.id)"><i class="bi bi-hand-thumbs-up-fill"></i></button>
                                <button *ngIf="event.isParticipe && User.id != event.creator.id" class="btn btn-primary hover mb-4" (click)="unparticipe(event.id)"><i class="bi bi-hand-thumbs-down-fill"></i></button>
                                <button *ngIf="User.id == event.creator.id && event.startDate.getTime() > Today.getTime()" class="btn btn-warning hover m-1" (click)="updateEvent(event)"><i class="bi bi-arrow-clockwise"></i></button>
                                <button *ngIf="User.id == event.creator.id" class="btn btn-danger hover m-1" (click)="deleteEvent(event)"><i class="bi bi-trash"></i></button>
                            </div>
                        </td>
                       
                    </tr>
                    <tr class="row">
                        <div class="col-10 text-center">
                            <p>Lieu : {{event.diveplace.name}}</p>
                            <img [src]="'../../../../assets/sites/'+event.diveplace.picture" alt="" class="size border rounded" />
                        </div>
                        <div class="col-2 text-center d-flex flex-column ">
                            <button class="btn btn-light hover m-1" (click)="diveplaceInfo(event.diveplace)"><i class="bi bi-info-circle"></i></button>
                            <a class="btn btn-primary m-1" [href]="'https://www.google.com/maps?q='+event.diveplace.adress.number+' '+event.diveplace.adress.street+' '+event.diveplace.adress.postCode+' '+event.diveplace.adress.city+' '+event.diveplace.adress.country" 
                                    target="_blank"><i class="bi bi-geo-alt"></i></a>
                        </div>
                    </tr>
                    <tr *ngIf="event.participes.length > 0">
                        <app-participator-table [User]="User" [Participator]="event.participes"></app-participator-table>
                    </tr>
                    <tr class="row">
                        <div class="col-10 text-center">Créateur : {{event.creator.firstname}} {{event.creator.lastname}} </div>
                        <div class="col-2 text-center"><button class="btn btn-light hover" (click)="creatorInfo(event.creator)"><i class="bi bi-info-circle"></i></button></div>
                    </tr>
                    <tr class="row" *ngIf="event.club">
                        <div class="col-10 text-center">Club : {{event.club.name}}</div>
                        <div class="col-2 text-center"><button class="btn btn-light hover" (click)="clubInfo(event.club)"><i class="bi bi-info-circle"></i></button></div>
                    </tr>
                    <tr class="row" *ngIf="event.training">
                        <div class="col-10 text-center">Formation : {{event.training.name}}</div>
                        <div class="col-2 text-center"><button class="btn btn-light hover" (click)="trainingInfo(event.training)"><i class="bi bi-info-circle"></i></button></div>
                    </tr>
                    <tr class="row" *ngIf="event.organisation" >
                        <div class="col-10 text-center">Oragnisation : {{event.organisation.name}}</div>
                        <div class="col-2 text-center"><button class="btn btn-light hover" (click)="organisationInfo(event.organisation)"><i class="bi bi-info-circle"></i></button></div>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>    



