<h6 class="border text-underline text-center p-1">Participants</h6>
<table class="table mt-2">
  <tr>
    <th class="border">
      <p class="text-underline text-center m-auto">Nom </p>
    </th>
    <th class="border">
      <p class="text-underline text-center m-auto">Age </p>
    </th>
    <th class="border">
      <p class="text-underline text-center m-auto">Médical </p>
    </th>
    <th class="border">
      <p class="text-underline text-center m-auto">Assurance </p>
    </th>
    <th class="border">
      <p class="text-underline text-center m-auto">Niveau </p>
    </th>
    <th *ngIf="User && User.id" class="border">
      <p class="text-underline text-center m-auto">Ami </p>
    </th>
    <th *ngIf="UrlSegements =='my-clubs'|| 
                UrlSegements =='my-events'"
      class="border text-center m-auto"><i class="bi bi-dash-square"></i></th>
  </tr>

  <tr *ngFor="let participe of Participators">
    <td class="text-center border min-width">
      {{participe.firstname}} {{participe.lastname}}
    </td>
    <td class="text-center border p-1">
      {{participe.age}} ans
    </td>
    <td class="text-center border">
      <ng-container *ngIf="participe.medicalDateValidation.getTime() <= Today.getTime(); else checkmedicalDateValidation">
        <i class="bi bi-x" style="color:red"></i>
      </ng-container>
      <ng-template #checkmedicalDateValidation>
        <i class="bi bi-check-lg" style="color:green"></i>
      </ng-template>
    </td>
    <td class="text-center border">
      <ng-container *ngIf="participe.insuranceDateValidation.getTime() <= Today.getTime(); else checkinsuranceDateValidation">
        <i class="bi bi-x" style="color:red"></i>
      </ng-container>
      <ng-template #checkinsuranceDateValidation>
        <i class="bi bi-check-lg" style="color:green"></i>
      </ng-template>

    </td>
    <td class="text-center border">
      <ng-container *ngIf="!participe.isLevelValid; else checkLevelValid">
        <i class="bi bi-x" style="color:red;"></i>
      </ng-container>
      <ng-template #checkLevelValid>
        <!-- <i class="bi bi-check-lg" style="color:green"></i> -->
        <a class="btn btn-light hover border font-color-black" (click)="seeLevel(participe)"><i class="bi bi-eye"></i></a>
      </ng-template>
    </td>



    <td *ngIf="User && User.id && participe.id != User.id" class="border">
      <div class="d-flex flex-column">
        <a *ngIf="participe.isUserFriend" class="btn btn-light hover border font-color-black" [routerLink]="'/message/'+participe.id"><i class="bi bi-chat-text"></i></a>
        <a *ngIf="!participe.isUserFriend" class="btn btn-light hover border font-color-black" (click)="like(participe.id)"><i class="bi bi-emoji-smile"></i></a>
      </div>
    </td>
    <td *ngIf="User && User.id && participe.id == User.id" class="text-center border p-2">
      <i class="bi bi-x"></i>
    </td>

    <td [ngClass]="{'text-center border':User && User.id && UrlSegements =='my-clubs' ||User && User.id && UrlSegements =='my-events'}">
      <ng-container
        *ngIf=" User && User.id == Element.creator.id &&  Element.creator.id != participe.id && UrlSegements =='my-clubs' || 
                User && User.id == Element.creator.id && Element.creator.id != participe.id && UrlSegements =='my-events'; 
                else checkParticpe">
                <div class="d-flex flex-column">
                  <a (click)="erase(participe.id,Element.id)" class="btn btn-light hover border font-color-black">-</a>
                </div>
      </ng-container>
      <ng-template #checkParticpe>
        <i *ngIf="Element.creator.id != participe.id && UrlSegements =='my-clubs' || 
                  Element.creator.id != participe.id && UrlSegements =='my-events'"
                  class="bi bi-x"></i>
      </ng-template>
    </td>
  </tr>
</table>



<div *ngIf="Demands && Demands.length > 0 && UrlSegements !='my-book'">
  <h6 class="border text-underline text-center p-1">Demandes</h6>
  <table class="table mt-2">
    <tr>
      <th class="border">
        <p class="text-underline text-center">Nom </p>
      </th>
      <th class="border">
        <p class="text-underline text-center">Age </p>
      </th>
      <th class="border">
        <p class="text-underline text-center">Médical </p>
      </th>
      <th class="border">
        <p class="text-underline text-center">Assurance </p>
      </th>
      <th class="border">
        <p class="text-underline text-center">Niveau </p>
      </th>
      <th *ngIf="User && User.id" class="border">
        <p class="text-underline text-center">Ami </p>
      </th>
      <th *ngIf="UrlSegements =='my-clubs'|| 
                  UrlSegements =='my-events'"
        class="border text-center"><i class="bi bi-plus-square"></i></th>
    </tr>

    <tr *ngFor="let demand of Demands">
      <td class="text-center border min-width">
        {{demand.firstname}} {{demand.lastname}}
      </td>
      <td class="text-center border">
        {{demand.age}} ans
      </td>
      <td class="text-center border">
        <ng-container *ngIf="demand.medicalDateValidation.getTime() <= Today.getTime(); else checkmedicalDateValidation">
          <i class="bi bi-x" style="color:red"></i>
        </ng-container>
        <ng-template #checkmedicalDateValidation>
          <i class="bi bi-check-lg" style="color:green"></i>
        </ng-template>
      </td>
      <td class="text-center border">
        <ng-container *ngIf="demand.insuranceDateValidation.getTime() <= Today.getTime(); else checkinsuranceDateValidation">
          <i class="bi bi-x" style="color:red"></i>
        </ng-container>
        <ng-template #checkinsuranceDateValidation>
          <i class="bi bi-check-lg" style="color:green"></i>
        </ng-template>

      </td>
      <td class="text-center border">
        <ng-container *ngIf="!demand.isLevelValid; else checkLevelValid">
          <i class="bi bi-x" style="color:red;"></i>
        </ng-container>
        <ng-template #checkLevelValid>
          <!-- <i class="bi bi-check-lg" style="color:green"></i> -->
          <a class="btn btn-light hover border font-color-black" (click)="seeLevel(demand)"><i class="bi bi-eye"></i></a>

        </ng-template>
      </td>


      <td *ngIf="User && User.id && demand.id != User.id" class="border">
        <div class="d-flex flex-column">
          <a *ngIf="demand.isUserFriend" class="btn btn-light hover border font-color-black" [routerLink]="'/message/'+demand.id"><i class="bi bi-chat-text"></i></a>
          <a *ngIf="!demand.isUserFriend" class="btn btn-light hover border font-color-black" (click)="like(demand.id)"><i class="bi bi-emoji-smile"></i></a>
        </div>
      </td>
      <td *ngIf="User && User.id && demand.id == User.id && demand.isUserFriend" class="text-center border p-2">
        <i class="bi bi-x"></i>
      </td>
      
      <td [ngClass]="{'text-center border':User && User.id && (UrlSegements =='my-clubs' || UrlSegements =='my-events')}">
        <ng-container
          *ngIf=" User && User.id == Element.creator.id && Element.creator.id != demand.id && 
                            (UrlSegements =='my-clubs' ||  UrlSegements =='my-events')
                  ; else checkDemand">
                  <div class="d-flex flex-column">
                    <a (click)="add(demand.id,Element.id)" class="btn btn-light hover border font-color-black">+</a>
                  </div>
        </ng-container>
        <ng-template #checkDemand>
          <i *ngIf="Element.creator.id != demand.id && UrlSegements =='my-clubs' || 
                    Element.creator.id != demand.id && UrlSegements =='my-events'"
                    class="bi bi-x"></i>
        </ng-template>
      </td>

    </tr>
  </table>
</div>